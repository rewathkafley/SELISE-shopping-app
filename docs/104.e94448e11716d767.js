"use strict";(self.webpackChunkshopping_app=self.webpackChunkshopping_app||[]).push([[104],{9104:(N,p,o)=>{o.r(p),o.d(p,{UsersModule:()=>L});var i=o(1590),u=o(3087),d=o(5347),l=o(1661),e=o(1223),a=o(2077),U=o(9808);const b=function(t){return["/users",t,"edit"]};function g(t,n){if(1&t&&(e.TgZ(0,"button",7),e._uU(1,"Edit User"),e.qZA()),2&t){const s=e.oxw();e.Q6J("routerLink",e.VKq(1,b,s.user.id))}}let f=(()=>{class t extends l.H{constructor(s,r){super(),this.route=s,this.userService=r,this.user=new d.n,this.role=u.u.USER,this.ROLE=u.u}ngOnInit(){const r=Number(this.route.snapshot.paramMap.get("userId"));r&&this.getUser(r)}getUser(s){this.subscribers.getUserSub=this.userService.getUser(s).subscribe(r=>{this.user=r||new d.n})}}return t.\u0275fac=function(s){return new(s||t)(e.Y36(i.gz),e.Y36(a.K))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-details"]],features:[e.qOj],decls:15,vars:5,consts:[[1,"container-fluid"],[1,"row"],["type","button","class","btn-outline-primary btn-sm ml-auto mr-1 mt-1",3,"routerLink",4,"ngIf"],[1,"row","mt-5"],[1,"col-3"],["src","/assets/user.png","alt","Card image",1,"card-img-top",2,"width","100%"],[1,"col-9"],["type","button",1,"btn-outline-primary","btn-sm","ml-auto","mr-1","mt-1",3,"routerLink"]],template:function(s,r){1&s&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,g,2,3,"button",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4),e._UZ(5,"img",5),e.qZA(),e.TgZ(6,"div",6)(7,"h3"),e._uU(8),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.qZA()()()()),2&s&&(e.xp6(2),e.Q6J("ngIf",r.role==r.ROLE.USER&&(null==r.user?null:r.user.id)),e.xp6(6),e.hij("User Name: ",r.user.userName,""),e.xp6(2),e.hij("Firs Name: ",null==r.user?null:r.user.firstName,""),e.xp6(2),e.hij("Last Name: ",null==r.user?null:r.user.lastName,""),e.xp6(2),e.hij("Role: ",null!=r.user&&r.user.id?null==r.user?null:r.user.role:"",""))},directives:[U.O5,i.rH],styles:[""]}),t})();var v=o(6928);let h=(()=>{class t extends l.H{constructor(s,r,c){super(),this.route=s,this.router=r,this.userService=c,this.role=u.u.ADMIN,this.title="Create User",this.showSubmitLoader=!1}ngOnInit(){this.subscribers.routeSub=this.route.params.subscribe(s=>{s.userId&&(this.userId=s.userId,this.title="Update User")})}onUserFormSubmit(s){!s||(s.id?this.updateUser(s):this.createUser(s))}createUser(s){!s||(this.subscribers.createUserSub=this.userService.addUser(s).subscribe(r=>{!r||!r.id||(alert("User created successfully!"),this.router.navigate(["/users",r.id]))}))}updateUser(s){!s||(this.subscribers.updateUserSub=this.userService.updateUser(s).subscribe(r=>{!r||!r.id||(alert("User updated successfully!"),this.router.navigate(["/users",r.id]))}))}back(){this.router.navigate(["../"],{relativeTo:this.route})}}return t.\u0275fac=function(s){return new(s||t)(e.Y36(i.gz),e.Y36(i.F0),e.Y36(a.K))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-form"]],inputs:{showSubmitLoader:"showSubmitLoader"},features:[e.qOj],decls:1,vars:4,consts:[[3,"userId","role","title","showSubmitLoader","onFormSubmit"]],template:function(s,r){1&s&&(e.TgZ(0,"app-user-registration-form",0),e.NdJ("onFormSubmit",function(m){return r.onUserFormSubmit(m)}),e.qZA()),2&s&&e.Q6J("userId",r.userId)("role",r.role)("title",r.title)("showSubmitLoader",r.showSubmitLoader)},directives:[v.Y],styles:[""]}),t})();const Z=function(t){return["/users",t]},S=function(t){return["/users",t,"edit"]};function y(t,n){if(1&t){const s=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"a",8),e._UZ(3,"img",9),e.qZA(),e.TgZ(4,"div",10)(5,"h5",11),e._uU(6),e.qZA(),e.TgZ(7,"p",12),e._uU(8),e.qZA(),e.TgZ(9,"p",12),e._uU(10),e.qZA(),e.TgZ(11,"button",13),e.NdJ("click",function(){const m=e.CHM(s).$implicit;return e.oxw().removeUser(m.id)}),e._uU(12,"Delete"),e.qZA(),e._uU(13," \xa0 "),e.TgZ(14,"button",14),e._uU(15,"Edit"),e.qZA(),e._uU(16," \xa0 "),e.qZA()()()}if(2&t){const s=n.$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(5,Z,s.id)),e.xp6(4),e.hij("User Name: ",null==s?null:s.userName,""),e.xp6(2),e.hij("Last Name: ",null==s?null:s.lastName,""),e.xp6(2),e.hij("Role: ",null==s?null:s.role,""),e.xp6(4),e.Q6J("routerLink",e.VKq(7,S,s.id))}}const A=function(){return["/users","create"]},C=[{path:"",component:(()=>{class t extends l.H{constructor(s){super(),this.userService=s,this.users=[]}ngOnInit(){this.getAllUsers()}getAllUsers(){this.subscribers.getAllUsersSub=this.userService.getUsers().subscribe(s=>{this.users=s||[]})}removeUser(s){!s||(this.subscribers.removeUserSub=this.userService.deleteUser(s).subscribe(r=>{!r||(this.getAllUsers(),alert("User removed successfully!"))}))}}return t.\u0275fac=function(s){return new(s||t)(e.Y36(a.K))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-users"]],features:[e.qOj],decls:7,vars:3,consts:[[1,"container-fluid","mt-3"],[1,"row","mb-3","mt-1"],[1,"col"],["type","button",1,"btn-outline-primary","btn-sm","float-left",3,"routerLink"],[1,"row"],["class","col-2",4,"ngFor","ngForOf"],[1,"col-2"],[1,"card",2,"width","250px"],[1,"nav-link",3,"routerLink"],["src","/assets/user.png","alt","Card image",1,"card-img-top",2,"width","100%"],[1,"card-body",2,"padding","3px"],[1,"card-title"],[1,"card-text"],["type","button",1,"btn-outline-primary","btn-sm",3,"click"],["type","button",1,"btn-outline-primary","btn-sm",3,"routerLink"]],template:function(s,r){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e._uU(4,"Create User"),e.qZA()()(),e.TgZ(5,"div",4),e.YNc(6,y,17,9,"div",5),e.qZA()()),2&s&&(e.xp6(3),e.Q6J("routerLink",e.DdM(2,A)),e.xp6(3),e.Q6J("ngForOf",r.users))},directives:[i.rH,U.sg,i.yS],styles:[""]}),t})()},{path:"create",component:h},{path:":userId",component:f},{path:":userId/edit",component:h}];let T=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[i.Bz.forChild(C)],i.Bz]}),t})();var F=o(4466);let L=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[F.m,T]]}),t})()}}]);